<!DOCTYPE html>
<html>
<head>
<title>NAUMAN POULTRY FARM ‚Äì Dhebar</title>

<style>
body { font-family: Arial; background:#f2f2f2; padding:10px; }
h1 { text-align:center; background:#ffcc66; padding:15px; }
table { border-collapse: collapse; width:100%; background:white; margin:15px 0; }
th, td { border:1px solid #aaa; padding:6px; text-align:center; }
th { background:#ffe0b3; }
input { width:90px; text-align:center; }
.summary { background:#ddffdd; padding:15px; font-size:15px; line-height:1.6; }
</style>
</head>

<body>

<!-- ================= BATCH / FARM PANEL ================= -->
<div style="background:#fff3cd;padding:10px;margin-bottom:10px;text-align:center;">

  <b>Farm / Batch :</b>

  <select id="farmSelect" onchange="changeFarm()"></select>


  <input type="text" id="newFarmName" placeholder="New Batch Name">

  <button onclick="addFarm()">‚ûï Add</button>
  <button onclick="renameFarm()">‚úè Rename</button>
  <button onclick="deleteFarm()">üóë Delete</button>

  <button onclick="saveFarm()">üíæ Save</button>
  <button onclick="downloadPDF()">üìÑ Download PDF</button>




  <input type="file" id="importFile" style="display:none" onchange="importFarm(event)">
  <button onclick="document.getElementById('importFile').click()">üì• Restore</button>
  <button onclick="exportFarm()">üì§ Backup</button>

</div>

<h1>üêî NAUMAN POULTRY FARM DHEBAR</h1>
<p style="text-align:center">
Mobile: 7600786037 / 9714407262 / 9909879865 <br>
Address: Dhebar ‚Äì Porbandar Road, Ta: Bhanvad, Dev Bhumi Dwarka
</p>

<!-- BASIC INFO -->
<table>
<tr>
<td>Arrival Date</td>
<td><input type="date" id="arrivalDate" onchange="setDates()"></td>
<td>Total Chicks</td>
<td><input type="number" id="totalChicks" value="2000" oninput="updateAll();updateChickCost()"></td>
</tr>
<tr>
<td>Chicks Rate (‚Çπ)</td>
<td><input id="chicksRate" value="35" oninput="updateChickCost()"></td>
<td>Total Chicks Cost</td>
<td>‚Çπ <span id="totalChicksCost">0</span></td>
</tr>
</table>

<!-- FEED RATE -->
<h3>Feed Rate / Bag (50kg)</h3>
<table>
<tr>
<th>Pre-Starter</th><th>Starter</th><th>Finisher</th>
</tr>
<tr>
<td><input id="ratePreBag" value="2075" oninput="updateCosts()"></td>
<td><input id="rateStarterBag" value="2045" oninput="updateCosts()"></td>
<td><input id="rateFinisherBag" value="2045" oninput="updateCosts()"></td>
</tr>
</table>

<!-- FEED STOCK -->
<h3>Feed Stock</h3>
<table>
<tr>
<th>Feed</th><th>S1</th><th>S2</th><th>S3</th><th>S4</th><th>S5</th><th>Bags</th><th>KG</th>
</tr>

<tr>
<td>Pre-Starter</td>
<td><input class="feed0" oninput="calcStock(0)"></td>
<td><input class="feed0" oninput="calcStock(0)"></td>
<td><input class="feed0" oninput="calcStock(0)"></td>
<td><input class="feed0" oninput="calcStock(0)"></td>
<td><input class="feed0" oninput="calcStock(0)"></td>
<td id="bags0">0</td><td id="kg0">0</td>
</tr>

<tr>
<td>Starter</td>
<td><input class="feed1" oninput="calcStock(1)"></td>
<td><input class="feed1" oninput="calcStock(1)"></td>
<td><input class="feed1" oninput="calcStock(1)"></td>
<td><input class="feed1" oninput="calcStock(1)"></td>
<td><input class="feed1" oninput="calcStock(1)"></td>
<td id="bags1">0</td><td id="kg1">0</td>
</tr>

<tr>
<td>Finisher</td>
<td><input class="feed2" oninput="calcStock(2)"></td>
<td><input class="feed2" oninput="calcStock(2)"></td>
<td><input class="feed2" oninput="calcStock(2)"></td>
<td><input class="feed2" oninput="calcStock(2)"></td>
<td><input class="feed2" oninput="calcStock(2)"></td>
<td id="bags2">0</td><td id="kg2">0</td>
</tr>
<tr style="background:#ffffcc;font-weight:bold;">
  <td colspan="6">TOTAL</td>
  <td id="grandBags">0</td>
  <td id="grandKg">0</td>
</tr>

</table>

<!-- 50 DAYS RECORD -->
<h3>50 Days Record</h3>
<table id="dayTable">
<tr>
<th>Day</th><th>Date</th><th>Chicks</th><th>Death</th>
<th>Available</th><th>Bags</th><th>Feed KG</th>
<th>5 Wt</th><th>Avg</th><th>Total Wt</th>
</tr>
</table>



<!-- EXPENSES -->
<h3>Expenses (5 Column System)</h3>
<table>
<tr>
<th>Type</th>
<th>Slot1</th><th>Slot2</th><th>Slot3</th><th>Slot4</th><th>Slot5</th>
<th>Total</th>
</tr>

<tr>
<td>Medicine</td>
<td><input class="exp1" oninput="updateExpenses()"></td>
<td><input class="exp1" oninput="updateExpenses()"></td>
<td><input class="exp1" oninput="updateExpenses()"></td>
<td><input class="exp1" oninput="updateExpenses()"></td>
<td><input class="exp1" oninput="updateExpenses()"></td>
<td id="total1">0</td>
</tr>

<tr>
<td>Vaccine</td>
<td><input class="exp2" oninput="updateExpenses()"></td>
<td><input class="exp2" oninput="updateExpenses()"></td>
<td><input class="exp2" oninput="updateExpenses()"></td>
<td><input class="exp2" oninput="updateExpenses()"></td>
<td><input class="exp2" oninput="updateExpenses()"></td>
<td id="total2">0</td>
</tr>

<tr>
<td>Electricity</td>
<td><input class="exp3" oninput="updateExpenses()"></td>
<td><input class="exp3" oninput="updateExpenses()"></td>
<td><input class="exp3" oninput="updateExpenses()"></td>
<td><input class="exp3" oninput="updateExpenses()"></td>
<td><input class="exp3" oninput="updateExpenses()"></td>
<td id="total3">0</td>
</tr>

<tr>
<td>Labour</td>
<td><input class="exp4" oninput="updateExpenses()"></td>
<td><input class="exp4" oninput="updateExpenses()"></td>
<td><input class="exp4" oninput="updateExpenses()"></td>
<td><input class="exp4" oninput="updateExpenses()"></td>
<td><input class="exp4" oninput="updateExpenses()"></td>
<td id="total4">0</td>
</tr>

<tr>
<td>Other</td>
<td><input class="exp5" oninput="updateExpenses()"></td>
<td><input class="exp5" oninput="updateExpenses()"></td>
<td><input class="exp5" oninput="updateExpenses()"></td>
<td><input class="exp5" oninput="updateExpenses()"></td>
<td><input class="exp5" oninput="updateExpenses()"></td>
<td id="total5">0</td>
</tr>

<tr>
<th colspan="6">Grand Total Extra Cost</th>
<th>‚Çπ <span id="extraCost">0</span></th>
</tr>

</table>


<!-- ‚úÖ SALE SECTION -->
<h3>üêî Sale Amount </h3>
<button onclick="askPasswordAdd()">‚ûï Add Sale Row</button>
<button onclick="askPasswordRemove()">‚ûñ Remove Last Row</button>
<table id="saleTable">
<tr>
<th>No</th>
<th>Chicks</th>
<th>Total Weight (KG)</th>
<th>Rate / KG (‚Çπ)</th>
<th>Total Sale Amount (‚Çπ)</th>
</tr>
</table>

<table>
<tr style="background:#f0ffe0;font-weight:bold;">
<td colspan="4">Grand Total Sale Amount</td>
<td>‚Çπ <span id="saleGrandTotal">0</span></td>
</tr>
</table>

<div class="summary">
<b>Total Deaths:</b> <span id="totalDeaths">0</span><br>
<b>Total Mortality %:</b> <span id="mortalityPct">0</span>%<br>
<b>Final Chicks Available:</b> <span id="finalChicks">0</span><br>
<b>Total Feed Used:</b> <span id="totalFeedKg">0</span> KG<br>
<b>Average Weight on Day :</b> <span id="avgWtDay50">0</span> KG<br>
<b>FCR (Feed Conversion Ratio):</b> <span id="fcr">0</span><br><br>

<b>Total Feed Cost:</b> ‚Çπ <span id="totalFeedCost">0</span><br>
<b>Total Chicks Cost:</b> ‚Çπ <span id="totalChicksCost2">0</span><br>
<b>Extra Expenses:</b> ‚Çπ <span id="extraCost2">0</span><br><br>

<b>Total Selling:</b> ‚Çπ <span id="totalSelling">0</span><br>
<b>Profit / Loss:</b> ‚Çπ <span id="profitLoss">0</span>
</div>

<script>
let autoSaveInterval = null;  // ‚úÖ IMPORTANT: autosave control variable
/* ------------ CREATE 50 DAYS ------------ */
let table = document.getElementById("dayTable");

for(let i=1;i<=50;i++){
 let row = table.insertRow();
 row.innerHTML = `
 <td>Day-${i}</td>
 <td><input type="date"></td>
 <td class="chicks">0</td>
 <td><input class="death" oninput="updateAll()"></td>
 <td class="available">0</td>
 <td><input class="bags" oninput="updateAll()"></td>
 <td class="feedkg">0</td>
 <td><input class="wt5" oninput="updateAll()"></td>
 <td class="avg">0</td>
 <td class="estwt">0</td>`;
}
// ‚úÖ TOTAL row automatically add
let totalRow = table.insertRow();
totalRow.style.background = "#ffffcc";
totalRow.style.fontWeight = "bold";

totalRow.innerHTML = `
<td colspan="3">TOTAL</td>
<td id="totalDeathTable">0</td>
<td>-</td>
<td id="totalBagsTable">0</td>
<td id="totalFeedKgTable">0</td>
<td colspan="3"></td>
`;



/* ------------ SALE TABLE ------------ */
let saleTable = document.getElementById("saleTable");

for(let i=1;i<=10;i++){
 let row = saleTable.insertRow();
 row.innerHTML = `
 <td>${i}</td>
 <td><input class="saleChicks" oninput="calcSale()"></td>
 <td><input class="saleWeight" oninput="calcSale()"></td>
 <td><input class="saleRate" oninput="calcSale()"></td>
 <td class="saleTotal">0</td>`;
}

/* ------------ UPDATE DAILY ------------ */
function updateAll(){
 let start = Number(totalChicks.value)||0;
 let available = start;
 let totalDeath = 0;
 let totalFeed = 0;
 let totalBags = 0;
 let lastAvg = 0;
 let lastWeight = 0;

 document.querySelectorAll("#dayTable tr:not(:last-child)").forEach((row,i)=>{
   if(i===0) return;


   let death = Number(row.querySelector(".death").value)||0;
   let bags = Number(row.querySelector(".bags").value)||0;
totalBags += bags;

   let w5 = Number(row.querySelector(".wt5").value)||0;

   row.querySelector(".chicks").innerText = available;
   available -= death;
   totalDeath += death;
   if(available<0) available = 0;

   row.querySelector(".available").innerText = available;

   let feedKg = bags * 50;
   totalFeed += feedKg;
   row.querySelector(".feedkg").innerText = feedKg;

   let avg = w5 > 0 ? w5/5 : 0;
   row.querySelector(".avg").innerText = avg.toFixed(3);

   let estW = avg * available;
   row.querySelector(".estwt").innerText = estW.toFixed(2);

   // ‚úÖ Last filled day ka data lena
   if(w5 > 0){
     lastAvg = avg;
     lastWeight = estW;
   }
 });

 totalDeaths.innerText = totalDeath;
 finalChicks.innerText = available;
 totalFeedKg.innerText = totalFeed;
document.getElementById("totalDeathTable").innerText = totalDeath;
document.getElementById("totalBagsTable").innerText = totalBags;
document.getElementById("totalFeedKgTable").innerText = totalFeed;


 // ‚úÖ Ab 50 day ki jagah last filled day se show hoga
 avgWtDay50.innerText = lastAvg.toFixed(3) + " (Last Filled Day)";

 let mort = start>0 ? (totalDeath/start)*100 : 0;
 mortalityPct.innerText = mort.toFixed(2);

 let fcr = lastWeight>0 ? totalFeed/lastWeight : 0;
 document.getElementById("fcr").innerText = fcr.toFixed(3);

 calculateProfit();
}

/* ------------ FEED STOCK ------------ */
function calcStock(n){
  let sum = 0;
  document.querySelectorAll(".feed"+n).forEach(x=>{
    sum += Number(x.value)||0;
  });

  document.getElementById("bags"+n).innerText = sum;
  document.getElementById("kg"+n).innerText = sum * 50;

  // ‚úÖ Grand total calculation
  let totalBags =
    Number(bags0.innerText) +
    Number(bags1.innerText) +
    Number(bags2.innerText);

  let totalKg = totalBags * 50;

  document.getElementById("grandBags").innerText = totalBags;
  document.getElementById("grandKg").innerText = totalKg;

  updateCosts();
}


/* ------------ FEED COST ------------ */
function updateCosts(){
 let cost =
 (bags0.innerText * ratePreBag.value) +
 (bags1.innerText * rateStarterBag.value) +
 (bags2.innerText * rateFinisherBag.value);

 totalFeedCost.innerText = cost.toFixed(2);
 calculateProfit();
}

/* ------------ CHICKS COST ------------ */
function updateChickCost(){
 let total = totalChicks.value;
 let rate = chicksRate.value;

 let cost = total * rate;
 totalChicksCost.innerText = cost;
 totalChicksCost2.innerText = cost;

 calculateProfit();
}

/* ------------ EXPENSES ------------ */
function updateExpenses(){
 let grand = 0;

 for(let i=1;i<=5;i++){
   let sum = 0;
   document.querySelectorAll(".exp"+i).forEach(x=>{
     sum += Number(x.value)||0;
   });
   document.getElementById("total"+i).innerText = sum;
   grand += sum;
 }

 extraCost.innerText = grand;
 extraCost2.innerText = grand;

 calculateProfit();
}

/* ------------ SALE ------------ */
function calcSale(){
 let total = 0;

 document.querySelectorAll("#saleTable tr").forEach((row,i)=>{
   if(i===0) return;

   let weight = Number(row.querySelector(".saleWeight").value)||0;
   let rate = Number(row.querySelector(".saleRate").value)||0;

   let amount = weight * rate;

   row.querySelector(".saleTotal").innerText = amount.toFixed(2);
   total += amount;
 });

 saleGrandTotal.innerText = total.toFixed(2);
 totalSelling.innerText = total.toFixed(2);

 calculateProfit();
}

/* ------------ PROFIT ------------ */
function calculateProfit(){
 let totalInvest =
 Number(totalChicksCost2.innerText||0) +
 Number(totalFeedCost.innerText||0) +
 Number(extraCost.innerText||0);

 let sale = Number(saleGrandTotal.innerText||0);

 profitLoss.innerText = (sale - totalInvest).toFixed(2);
}

// Initial run
updateChickCost();
updateExpenses();
updateCosts();
calcSale();
function setDates(){

  let arrival = document.getElementById("arrivalDate").value;
  if(!arrival) return;

  let startDate = new Date(arrival);

  document.querySelectorAll("#dayTable tr:not(:last-child)").forEach((row, i) => {

    
    if(i === 0) return; // Header skip
    
    let dateInput = row.cells[1].querySelector("input");

    let newDate = new Date(startDate);
    newDate.setDate(startDate.getDate() + (i - 1));

    let yyyy = newDate.getFullYear();
    let mm = String(newDate.getMonth() + 1).padStart(2,'0');
    let dd = String(newDate.getDate()).padStart(2,'0');

    dateInput.value = `${yyyy}-${mm}-${dd}`;
  });
}
/* ================= SALE PASSWORD SYSTEM ================= */

const SALE_PASSWORD = "1234";

function askPasswordAdd(){
  let pass = prompt("Sale row add karne ka password dalo:");
  if(pass === SALE_PASSWORD){
    addSaleRow();
  } else {
    alert("‚ùå Wrong Password!");
  }
}

function askPasswordRemove(){
  let pass = prompt("Sale row delete karne ka password dalo:");
  if(pass === SALE_PASSWORD){
    removeSaleRow();
  } else {
    alert("‚ùå Wrong Password!");
  }
}

function addSaleRow(){
  let table = document.getElementById("saleTable");
  let rowCount = table.rows.length;

  let row = table.insertRow();
  row.innerHTML = `
    <td>${rowCount}</td>
    <td><input class="saleChicks" oninput="calcSale()"></td>
    <td><input class="saleWeight" oninput="calcSale()"></td>
    <td><input class="saleRate" oninput="calcSale()"></td>
    <td class="saleTotal">0</td>
  `;
}

function removeSaleRow(){
  let table = document.getElementById("saleTable");
  let rowCount = table.rows.length;

  if(rowCount > 2){
    table.deleteRow(rowCount - 1);
  } else {
    alert("‚ùå Minimum ek sale row rehni chahiye!");
  }

  calcSale();
}
/* ================= BATCH / FARM SYSTEM ================= */

const FARM_PASSWORD = "1234";


/* Load Farm List */
function changeFarm(){
  clearForm();       // ‚úÖ pehle screen blank karega
  loadFarmData();    // ‚úÖ fir sirf saved data load karega
}

function loadFarmList(){

  let list = JSON.parse(localStorage.getItem("FarmList") || "[]");
  let select = document.getElementById("farmSelect");
  select.innerHTML = "";

  list.forEach(name=>{
    let opt = document.createElement("option");
    opt.value = name;
    opt.text = name;
    select.appendChild(opt);
  });

  if(list.length > 0) loadFarmData();
}

/* Add Farm */
function addFarm(){
  let name = document.getElementById("newFarmName").value.trim();
  if(name === "") return alert("Batch name likho!");

  let list = JSON.parse(localStorage.getItem("FarmList") || "[]");

  if(list.includes(name)) return alert("Ye batch pehle se hai!");

  list.push(name);
  localStorage.setItem("FarmList", JSON.stringify(list));

  document.getElementById("newFarmName").value = "";
  loadFarmList();

  alert("‚úÖ Batch add ho gaya: " + name);
}

/* Save Farm Data */
function saveFarm(showMessage = true){
  let farm = farmSelect.value;
  if(!farm){
    if(showMessage) alert("Pehle batch select karo!");
    return;
  }

  const data = {};

  document.querySelectorAll("input, select").forEach((el, index) => {
    data[index] = el.value;
  });

  localStorage.setItem("POULTRY_" + farm, JSON.stringify(data));

  if(showMessage){
    alert("‚úÖ " + farm + " ka pura data save ho gaya!");
  }
}






/* Load Farm Data */
 function loadFarmData(){
  stopAutoSave();  // üî¥ pehle autosave band karo

  let farm = farmSelect.value;
  if(!farm) return;

  let saved = localStorage.getItem("POULTRY_" + farm);

clearForm();   // ‚úÖ HAMESHA pehle pura blank karega

if(saved){
  let data = JSON.parse(saved);

document.querySelectorAll("input, select").forEach((el, index) => {
  if(data[index] !== undefined){
    el.value = data[index];
  }
});

}



  updateAll();
  updateExpenses();
  calcSale();
  updateChickCost();
  updateCosts();
    // üî• Feed stock recalculation fix
  calcStock(0);
  calcStock(1);
  calcStock(2);


  startAutoSave();  // ‚úÖ naya batch load hone ke baad autosave start
}




/* Export */
function importFarm(event){

  let file = event.target.files[0];
  if(!file) return;

  let reader = new FileReader();

  reader.onload = function(){

    let data = JSON.parse(reader.result);

    let cleanName = file.name
      .replace(".json","")
      .replace(/_backup.*/i,"")
      .replace(/\s*\(\d+\)/,"")
      .trim();

    let list = JSON.parse(localStorage.getItem("FarmList") || "[]");

    if(!list.includes(cleanName)){
      list.push(cleanName);
      localStorage.setItem("FarmList", JSON.stringify(list));
    }

    localStorage.setItem("POULTRY_" + cleanName, JSON.stringify(data));

    rebuildDropdown(cleanName);

    alert("‚úÖ Restore ho gaya: " + cleanName);
  };

  reader.readAsText(file);
}



function exportFarm(){

  let farm = document.getElementById("farmSelect").value;

  if(!farm){
    alert("‚ùå Pehle batch select karo!");
    return;
  }

  let data = localStorage.getItem("POULTRY_" + farm);

  if(!data){
    alert("‚ùå Is batch ka data save hi nahi hai!");
    return;
  }

  let blob = new Blob([data], {type:"application/json"});

  let date = new Date();
  let dd = String(date.getDate()).padStart(2,"0");
  let mm = String(date.getMonth()+1).padStart(2,"0");
  let yyyy = date.getFullYear();

  let filename = farm + "_backup_" + dd + "-" + mm + "-" + yyyy + ".json";

  let link = document.createElement("a");
  link.href = URL.createObjectURL(blob);
  link.download = filename;
  link.click();

  alert("‚úÖ Backup ho gaya: " + filename);
}


/* Delete Farm */
function deleteFarm(){

  stopAutoSave();  // autosave band

  let pass = prompt("Delete password dalo:");
  if(pass !== FARM_PASSWORD){
    alert("‚ùå Wrong password!");
    startAutoSave();
    return;
  }

  let farm = document.getElementById("farmSelect").value;

  if(!farm){
    alert("‚ùå Pehle batch select karo!");
    startAutoSave();
    return;
  }

  // ‚úÖ Ab confirmation bhi 1234 hi hai
  let confirmTxt = prompt("Delete confirm karne ke liye 1234 dalo:");

  if(confirmTxt !== "1234"){
    alert("‚ùå Confirmation galat hai!");
    startAutoSave();
    return;
  }

  // ‚úÖ Yaha se actual delete start
  localStorage.removeItem("POULTRY_" + farm);

  let list = JSON.parse(localStorage.getItem("FarmList") || "[]");
  list = list.filter(item => item !== farm);
  localStorage.setItem("FarmList", JSON.stringify(list));

  document.getElementById("farmSelect").innerHTML = "";

  clearForm();
  loadFarmList();

  alert("‚úÖ Batch + data permanently delete ho gaya!");

  startAutoSave();
}


/* Rename Farm */
function renameFarm(){
  let oldName = farmSelect.value;
  let newName = document.getElementById("newFarmName").value.trim();

  if(newName === "") return alert("New batch name likho!");

  let data = localStorage.getItem("POULTRY_" + oldName);
  let list = JSON.parse(localStorage.getItem("FarmList") || "[]");

  list = list.map(f => f === oldName ? newName : f);

  localStorage.setItem("FarmList", JSON.stringify(list));
  localStorage.setItem("POULTRY_" + newName, data);
  localStorage.removeItem("POULTRY_" + oldName);

  loadFarmList();
  alert("‚úÖ Batch rename ho gaya: " + newName);
}


/* ========= AUTO SAVE SYSTEM ========= */
function startAutoSave(){
  stopAutoSave();

  autoSaveInterval = setInterval(function(){
    let farm = farmSelect.value;
    if(!farm) return;
    saveFarm(false);   // silent save
  }, 5000);
}

function stopAutoSave(){
  if(autoSaveInterval){
    clearInterval(autoSaveInterval);
    autoSaveInterval = null;
  }
}



/* Clear all inputs when switching to new empty batch */
function clearForm(){

  // ‚úÖ saare input blank
  document.querySelectorAll("input").forEach(el=>{
    if(el.type !== "button" && el.type !== "file"){
      el.value = "";
    }
  });

  // ‚úÖ saare span wale data blank
  document.querySelectorAll("span").forEach(span=>{
    span.innerText = "0";
  });

  // ‚úÖ table ke calculated cells blank
  document.querySelectorAll(
    ".chicks, .available, .feedkg, .avg, .estwt, .saleTotal"
  ).forEach(td => {
    td.innerText = "0";
  });
}


</script>
<script>
document.addEventListener("DOMContentLoaded", function() {
    loadFarmList();
    startAutoSave();
});

function rebuildDropdown(selectedName){

  let list = JSON.parse(localStorage.getItem("FarmList") || "[]");
  let select = document.getElementById("farmSelect");

  select.innerHTML = "";

  list.forEach(name => {
    let opt = document.createElement("option");
    opt.value = name;
    opt.textContent = name;

    if(name === selectedName){
      opt.selected = true;
    }

    select.appendChild(opt);
  });

  select.value = selectedName;

  changeFarm();
}

/* ========= Download Full PDF========= */
function downloadPDF(){

  let batch = document.getElementById("farmSelect").value;

  if(!batch){
    alert("‚ùå Pehle batch select karo!");
    return;
  }

  document.querySelectorAll("input").forEach(inp=>{
    inp.setAttribute("readonly", true);
  });

  window.print();

  document.querySelectorAll("input").forEach(inp=>{
    inp.removeAttribute("readonly");
  });
}



</script>

</body>
</html>



